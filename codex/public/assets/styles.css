:root{
  --bg:#0e1014; /* deep castle night */
  --stone:#1a1e25;
  --parchment:#f6f1e7;
  --ink:#1d1b16;
  --wood:#553c2a;
  --gold:#bfa36f;
  --muted:#a7a7a7;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:radial-gradient(80% 100% at 50% 0%, #151922 0%, var(--bg) 60%); color:#e8e6e3;
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background-attachment: fixed;
}
.header{
  display:flex; align-items:center; justify-content:space-between; padding:16px 20px; border-bottom:1px solid #222;
  background:linear-gradient(180deg,#171b22, #12151b);
}
.logo{
  font-family:'EB Garamond', serif; font-size:28px; letter-spacing:0.5px; color:var(--gold);
}
.nav .nav-btn{
  background:#222; color:#ddd; border:1px solid #333; padding:10px 14px; margin-left:8px; border-radius:999px; cursor:pointer;
}
.nav .nav-btn.active{ background:var(--gold); color:#1a1208; border-color:#cdb278; }

.main{ display:grid; grid-template-columns: 320px 1fr; min-height: calc(100vh - 140px); }

/* Stacks */
.stacks{ border-right:1px solid #222; padding:16px; background:linear-gradient(180deg, #171b22, #12151b); }
.stacks-title{ font-family:'EB Garamond', serif; color:var(--gold); margin:0 0 12px 0; }
.model-shelf{ list-style:none; padding:0; margin:0; display:grid; gap:10px; }
.model-tome{
  display:flex; align-items:center; gap:10px; padding:10px; background:#1c1f26; border:1px solid #2a2f3a; border-left:10px solid var(--gold);
  border-radius:6px; cursor:pointer; transition: transform 200ms ease, box-shadow 200ms ease;
}
.model-tome:hover{ transform: translateX(4px); box-shadow:0 2px 10px rgba(0,0,0,0.3); }
.model-tome.selected{ outline:2px solid var(--gold); border-left-width:14px; }
.spine-color{ width:10px; height:32px; border-radius:2px; background:var(--gold); }
.spine-label{ font-family:'EB Garamond', serif; letter-spacing:0.3px; }

/* Council */
.council{ position:relative; padding:16px; }
.table-area{ position:relative; height:280px; margin-bottom:16px; }
.table-graphic{
  position:absolute; inset:0; margin:16px; border-radius:50%;
  background: radial-gradient(circle at 50% 30%, #7a5c43, #4b3526 60%, #3d2a1f);
  box-shadow: inset 0 0 60px rgba(0,0,0,0.5), 0 10px 40px rgba(0,0,0,0.4);
}
.council-seat{
  position:absolute; width:120px; text-align:center; transform: translate(-50%, -50%);
}
.tome-avatar{ width:80px; height:80px; margin:0 auto; border-radius:8px; background:linear-gradient(180deg, #2c2c2c, #1e1e1e); border:2px solid rgba(255,255,255,0.08); box-shadow:0 4px 16px rgba(0,0,0,0.5); }
.seat-label{ margin-top:6px; font-family:'EB Garamond', serif; font-size:14px; }

/* Conversation */
.question-display{ min-height:42px; color:#d9d1c2; font-family:'EB Garamond', serif; font-size:18px; margin:8px 0 14px; }
.answers-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:14px; }
.answer-card{ background:var(--parchment); color:var(--ink); border-radius:8px; border:1px solid #cbbda4; box-shadow:0 4px 12px rgba(0,0,0,0.35); position:relative; overflow:hidden; }
.answer-header{ padding:10px 12px; background:#efe6d3; border-bottom:1px solid #d9cdb6; display:flex; align-items:center; justify-content:space-between; }
.answer-body{ padding:12px; line-height:1.45; white-space:pre-wrap; }
.answer-footer{ border-top:1px solid #d9cdb6; padding:8px 12px; display:flex; align-items:center; gap:10px; }
.margin-strips{ position:absolute; top:0; right:0; display:flex; flex-direction:column; gap:4px; padding:6px; }
.margin-strip{ width:6px; height:28px; border-radius:3px; cursor:pointer; opacity:0.8; }
.margin-pop{ position:absolute; right:8px; top:40px; background:#fff; color:#222; border:1px solid #ddd; padding:8px 10px; border-radius:8px; width:260px; box-shadow:0 8px 24px rgba(0,0,0,0.2); z-index:5; }

/* Footer ask bar */
.question-bar{ position:sticky; bottom:0; display:grid; grid-template-columns: 120px 1fr 200px; gap:10px; padding:12px; border-top:1px solid #222; background:linear-gradient(0deg, #111319, #141821); }
.question-input{ width:100%; min-height:48px; background:#12161e; color:#ddd; border:1px solid #2a2f3a; border-radius:8px; padding:10px; resize:vertical; }
.ask-btn{ background:var(--gold); color:#271b0c; border:1px solid #cdb278; border-radius:8px; cursor:pointer; font-weight:600; }
.history-btn{ background:#222; color:#ddd; border:1px solid #333; border-radius:8px; cursor:pointer; }

/* Views */
.view[hidden]{ display:none !important; }

/* Particles (very subtle) */
body::after{ content:""; position:fixed; inset:0; background-image:radial-gradient(rgba(255,255,255,0.04) 1px, transparent 1px); background-size:3px 3px; opacity:0.15; pointer-events:none; }
